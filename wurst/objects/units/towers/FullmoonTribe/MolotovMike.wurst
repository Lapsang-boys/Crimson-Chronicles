package MolotovMike

import Assets
import Damage
import UnitObjEditing

import TowerDefinition
import TowerConstants
import BuilderConstants
import Tooltip
import ID2S

constant DAMAGE_BASE = 3
constant DAMAGE_SIDES_PER_DIE = 6
constant DAMAGE_NUMBER_OF_DIE = 1
constant RANGE = 128
constant ATTACK_SPEED = 1.

constant DAMAGE_BASE2 = 3
constant DAMAGE_SIDES_PER_DIE2 = 6
constant DAMAGE_NUMBER_OF_DIE2 = 1
constant RANGE2 = 800
constant ATTACK_SPEED2 = 2.

constant GOLD_COST = 10
constant POINT_VALUE = 10


class MolotovMike extends TowerDefinition
    construct(int id)
        super(id)
        // -------------------------------------
        // ========== Model file etc. ==========
        // -------------------------------------
        setIconGameInterface(Icons.bTNOgre)
        setModelFile(Units.ogre1)
        setTintingColorRed(255)
        setTintingColorGreen(255)
        setTintingColorBlue(255)
        setUnitSoundSet("Ogre")
        setScalingValue(1.2)
        setGroundTexture(ID_FULLMOON_TRIBE_GROUND_TEXTURE)

        // ------------------------------------
        // ========== Attack damage ==========
        // ------------------------------------
        setAcquisitionRange(RANGE2.toReal())
        setAttacksEnabled(3)

        setAttack1AttackType(AttackType.Normal)
        setAttack1Range(RANGE)
        setAttack1CooldownTime(ATTACK_SPEED)
        setAttack1DamageBase(DAMAGE_BASE)
        setAttack1DamageSidesperDie(DAMAGE_SIDES_PER_DIE)
        setAttack1DamageNumberofDice(DAMAGE_NUMBER_OF_DIE)

        setAttack2AttackType(AttackType.Siege)
        setAttack2Range(RANGE2)
        setAttack2CooldownTime(ATTACK_SPEED2)
        setAttack2DamageBase(DAMAGE_BASE2)
        setAttack2DamageSidesperDie(DAMAGE_SIDES_PER_DIE2)
        setAttack2DamageNumberofDice(DAMAGE_NUMBER_OF_DIE2)
        setAttack2AreaofEffectFullDamage(128)
        setAttack2AreaofEffectSmallDamage(256)

        // ------------------------------------
        // ========== Spells ==================
        // ------------------------------------
        setNormalAbilities(ID2S(ID_SELL_TOWER))

        // ------------------------------------------------
        // ========== Attack modelfile speed etc ==========
        // ------------------------------------------------
        setAttack1ProjectileArt("")
        setAttack1WeaponType(WeaponType.Instant)

        setAttack2ProjectileArt(Abilities.brewmasterMissile1)
        setAttack2ProjectileSpeed(1200)
        setAttack2WeaponType(WeaponType.MissileSplash)

        // ----------------------------------------------------------
        // ========== Stats (cost, upgrades, requirements) ==========
        // ----------------------------------------------------------
        setGoldCost(GOLD_COST)
        setPointValue(POINT_VALUE)
        setUpgradesTo("")
        setUpgradesUsed("")

        // ---------------------------------
        // ========== Description ==========
        // ---------------------------------
        setButtonPositionX(2)
        setButtonPositionY(0)
        setHotkey("E")
        setName("Molotov Mike")
        setTooltipBasic(tooltipBuild("E", "Molotov Miker"))
        setTooltipExtended(tooltipTowerExtended("Tower with one melee attack and one siege molotov.",
            damageBoundary(DAMAGE_BASE, DAMAGE_SIDES_PER_DIE, DAMAGE_NUMBER_OF_DIE),
            ATTACK_SPEED,
            RANGE,
            "",
            "Ther's notin better than a good ol' riot!"))

@compiletime function tower()
    new MolotovMike(ID_TOWER_MOLOTOV_MIKE)